#!/usr/local/bin/perl
################################################################################
## Copyright (c) 2012-2014 by Cisco Systems, Inc. All rights reserved.
################################################################################
#####################################################################
##           convert_global_port_clocks_pl sdc file               ###
## This file  removes select lines from sdc and also changes the  ###
## clock for global signals to a virtual clock so local synch     ###
## are checked.                                                   ###
#####################################################################
use List::Util qw(first);


$block_name = shift;

$sdc_file = $block_name . ".mapped.sdc";
$out_file = $block_name . ".sdc";

print "OUT FILE: ",$out_file,"\n"; 

%other_top_clock_pins = ("aif_ectw_hard_rst_750","top_clock",
                         "aif_ectw_merr","top_clock",
                         "aif_ectw_mirq","top_clock",
                         "aif_ectw_soft_rst_750","top_clock",
                         "aif_hard_rst_625","top_clock",
                         "aif_hard_rst_750","top_clock",
                         "aif_merr","top_clock",
                         "aif_merr_o","top_clock",
                         "aif_mirq","top_clock",
                         "aif_mirq_o","top_clock",
                         "aif_soft_rst_750","top_clock",
                         "bem_rst_750","top_clock",
                         "bem_slv_rst_750","top_clock",
                         "bfp0_rst_750","top_clock",
                         "bfp1_rst_750","top_clock",
                         "bfp2_rst_750","top_clock",
                         "bfp2_slv_rst_750","top_clock",
                         "bfp3_rst_750","top_clock",
                         "bfp3_slv_rst_750","top_clock",
                         "bib_rst_500","top_clock",
                         "bib_rst_750","top_clock",
                         "bib_slv_rst_750","top_clock",
                         "bif_rst_750","top_clock",
                         "bif_slv_rst_750","top_clock",
                         "bim_rst_750","top_clock",
                         "bim_slv_rst_750","top_clock",
                         "bpl_elm1_rst_750","top_clock",
                         "bpl_elm1_slv_rst_750","top_clock",
                         "bpl_rst_750","top_clock",
                         "bpl_slv_rst_750","top_clock",
                         "bri_hard_rst_750","top_clock",
                         "brp_rst_750","top_clock",
                         "brp_slv_rst_750","top_clock",
                         "brs_rst_750","top_clock",
                         "brs_slv_rst_750","top_clock",
                         "brw_rst_750","top_clock",
                         "brw_slv_rst_750","top_clock",
                         "brw_ure0_rst_750","top_clock",
                         "brw_ure0_slv_rst","top_clock",
                         "brw_ure1_rst_750","top_clock",
                         "brw_ure1_slv_rst","top_clock",
                         "bsp_rst_750","top_clock",
                         "bsp_slv_rst_750","top_clock",
                         "buf_mack_o","top_clock",
                         "buf_merr_i","top_clock",
                         "buf_mirq_i","top_clock",
                         "cfg0_core_bist_run","top_clock",
                         "cfg1_core_bist_run","top_clock",
                         "cfg2_core_bist_run","top_clock",
                         "cfg3_core_bist_run","top_clock",
                         "cfg4_core_bist_run","top_clock",
                         "cl1_bsf_hard_rst_750","top_clock",
                         "cl1_bsf_merr","top_clock",
                         "cl1_bsf_mirq","top_clock",
                         "cl1_bsf_soft_rst_750","top_clock",
                         "cl1_hard_rst_750","top_clock",
                         "cl1_merr","top_clock",
                         "cl1_merr_o","top_clock",
                         "cl1_mirq","top_clock",
                         "cl1_mirq_o","top_clock",
                         "cl1_soft_rst_750","top_clock",
                         "cl2_hard_rst_750","top_clock",
                         "cl2_merr","top_clock",
                         "cl2_merr_o","top_clock",
                         "cl2_mirq","top_clock",
                         "cl2_mirq_o","top_clock",
                         "cl2_soft_rst_750","top_clock",
                         "cp_dlbd_slave_irq","top_clock",
                         "cp_master_fnc0_rst_cfg","top_clock",
                         "cp_master_fnc1_rst_cfg","top_clock",
                         "cp_master_fnc2_rst_cfg","top_clock",
                         "cp_master_fnc3_rst_cfg","top_clock",
                         "cp_master_fnc_pktgen_rst_cfg","top_clock",
                         "cpu_bem_mack","top_clock",
                         "cpu_bem_merr","top_clock",
                         "cpu_bem_mirq","top_clock",
                         "cpu_bfp2_mack","top_clock",
                         "cpu_bfp2_merr","top_clock",
                         "cpu_bfp2_mirq","top_clock",
                         "cpu_bfp3_mack","top_clock",
                         "cpu_bfp3_merr","top_clock",
                         "cpu_bfp3_mirq","top_clock",
                         "cpu_bib_mack","top_clock",
                         "cpu_bib_merr","top_clock",
                         "cpu_bib_mirq","top_clock",
                         "cpu_bif_mack","top_clock",
                         "cpu_bif_merr","top_clock",
                         "cpu_bif_mirq","top_clock",
                         "cpu_bim_mack","top_clock",
                         "cpu_bim_merr","top_clock",
                         "cpu_bim_mirq","top_clock",
                         "cpu_bpl_mack","top_clock",
                         "cpu_bpl_merr","top_clock",
                         "cpu_bpl_mirq","top_clock",
                         "cpu_brp_mack","top_clock",
                         "cpu_brp_merr","top_clock",
                         "cpu_brp_mirq","top_clock",
                         "cpu_brs_mack","top_clock",
                         "cpu_brs_merr","top_clock",
                         "cpu_brs_mirq","top_clock",
                         "cpu_brw_mack","top_clock",
                         "cpu_brw_merr","top_clock",
                         "cpu_brw_mirq","top_clock",
                         "cpu_bsp_mack","top_clock",
                         "cpu_bsp_merr","top_clock",
                         "cpu_bsp_mirq","top_clock",
                         "cpu_eat_mack_i","top_clock",
                         "cpu_ebc_mack_i","top_clock",
                         "cpu_ebd_mack_i","top_clock",
                         "cpu_edx_mack_i","top_clock",
                         "cpu_efc_mack_i","top_clock",
                         "cpu_elm0_mack_i","top_clock",
                         "cpu_elm1_mack","top_clock",
                         "cpu_elm1_mack_i","top_clock",
                         "cpu_elm1_merr","top_clock",
                         "cpu_elm1_mirq","top_clock",
                         "cpu_enc_mack_i","top_clock",
                         "cpu_eps_mack_i","top_clock",
                         "cpu_era_mack_i","top_clock",
                         "cpu_erw_mack_i","top_clock",
                         "cpu_esh_mack_i","top_clock",
                         "cpu_esl_mack_i","top_clock",
                         "cpu_iat_mack_i","top_clock",
                         "cpu_ibc_mack_i","top_clock",
                         "cpu_ibd_mack_i","top_clock",
                         "cpu_idc_mack_i","top_clock",
                         "cpu_im1_mack_i","top_clock",
                         "cpu_im2_mack_i","top_clock",
                         "cpu_im3_mack_i","top_clock",
                         "cpu_ima_mack_i","top_clock",
                         "cpu_ipr_mack_i","top_clock",
                         "cpu_ish_mack_i","top_clock",
                         "cpu_isl_mack_i","top_clock",
                         "cpu_systest_mack_i","top_clock",
                         "cpu_um1_mack_i","top_clock",
                         "cpu_um2_mack_i","top_clock",
                         "cpu_ure0_mack","top_clock",
                         "cpu_ure0_merr","top_clock",
                         "cpu_ure0_mirq","top_clock",
                         "cpu_ure1_mack","top_clock",
                         "cpu_ure1_merr","top_clock",
                         "cpu_ure1_mirq","top_clock",
                         "ctl_mack_i","top_clock",
                         "ctl_merr_o","top_clock",
                         "ctl_mirq_o","top_clock",
                         "dcpu_slv_ack_o","top_clock",
                         "de_hard_rst_750","top_clock",
                         "deps_hard_rst_750","top_clock",
                         "deps_merr","top_clock",
                         "deps_mirq","top_clock",
                         "deps_soft_rst_750","top_clock",
                         "dft_slv_mack_i","top_clock",
                         "dft_slv_merr_o","top_clock",
                         "dft_slv_mirq_o","top_clock",
                         "difi_merr_o","top_clock",
                         "difi_mirq_o","top_clock",
                         "dl2po_merr_o","top_clock",
                         "dl2po_mirq_o","top_clock",
                         "dl3lu_merr_o","top_clock",
                         "dl3lu_mirq_o","top_clock",
                         "dl3mg_merr_o","top_clock",
                         "dl3mg_mirq_o","top_clock",
                         "dlbd_hard_rst_750","top_clock",
                         "dlbd_merr","top_clock",
                         "dlbd_mirq","top_clock",
                         "dlbd_soft_rst_750","top_clock",
                         "dsw_hard_rst_750","top_clock",
                         "dsw_merr","top_clock",
                         "dsw_mirq","top_clock",
                         "dsw_soft_rst_750","top_clock",
                         "eat_cpu_merr_o","top_clock",
                         "eat_cpu_mirq_o","top_clock",
                         "eat_rst_750","top_clock",
                         "eat_slv_rst_750","top_clock",
                         "ebc_cpu_merr_o","top_clock",
                         "ebc_cpu_mirq_o","top_clock",
                         "ebc_rst_750","top_clock",
                         "ebc_slv_rst_750","top_clock",
                         "ebd_cpu_merr_o","top_clock",
                         "ebd_cpu_mirq_o","top_clock",
                         "ebd_rst_750","top_clock",
                         "ebd_slv_rst_750","top_clock",
                         "ectw_merr_o","top_clock",
                         "ectw_mirq_o","top_clock",
                         "edx_cpu_merr_o","top_clock",
                         "edx_cpu_mirq_o","top_clock",
                         "edx_rst_750","top_clock",
                         "edx_slv_rst_750","top_clock",
                         "efc_cpu_merr_o","top_clock",
                         "efc_cpu_mirq_o","top_clock",
                         "efc_rst_750","top_clock",
                         "efc_slv_rst_750","top_clock",
                         "elam_merr_o","top_clock",
                         "elam_mirq_o","top_clock",
                         "elm0_cpu_merr_o","top_clock",
                         "elm0_cpu_mirq_o","top_clock",
                         "elm0_rst_750","top_clock",
                         "elm0_slv_rst_750","top_clock",
                         "elm0_trig_in","top_clock",
                         "elm0_trig_out","top_clock",
                         "elm1_cpu_merr_o","top_clock",
                         "elm1_cpu_mirq_o","top_clock",
                         "elm1_rst_750","top_clock",
                         "elm1_slv_rst_750","top_clock",
                         "elm1_trig_in","top_clock",
                         "elm1_trig_out","top_clock",
                         "enc_cpu_merr_o","top_clock",
                         "enc_cpu_mirq_o","top_clock",
                         "enc_rst_750","top_clock",
                         "enc_slv_rst_750","top_clock",
                         "eps_cpu_merr_o","top_clock",
                         "eps_cpu_mirq_o","top_clock",
                         "eps_rst_750","top_clock",
                         "eps_slv_rst_750","top_clock",
                         "era_cpu_merr_o","top_clock",
                         "era_cpu_mirq_o","top_clock",
                         "era_rst_750","top_clock",
                         "era_slv_rst_750","top_clock",
                         "erw_cpu_merr_o","top_clock",
                         "erw_cpu_mirq_o","top_clock",
                         "erw_rst_750","top_clock",
                         "erw_slv_rst_750","top_clock",
                         "esh_cpu_merr_o","top_clock",
                         "esh_cpu_mirq_o","top_clock",
                         "esh_rst_750","top_clock",
                         "esh_slv_rst_750","top_clock",
                         "esl_cpu_merr_o","top_clock",
                         "esl_cpu_mirq_o","top_clock",
                         "esl_rst_750","top_clock",
                         "esl_slv_rst_750","top_clock",
                         "FncBypassChicoSlv","top_clock",
                         "FncBypassPcsSlv","top_clock",
                         "FncChicoCoreRst","top_clock",
                         "FncFencerCoreRst","top_clock",
                         "FncGlblClkGateEn","top_clock",
                         "FncHIFRst","top_clock",
                         "FncPktGenRst","top_clock",
                         "FncPktGenSlvBypassRst","top_clock",
                         "FncPktGenSlv_merr_o","top_clock",
                         "FncPktGenSlv_mirq_o","top_clock",
                         "FncPktGenSlvRst","top_clock",
                         "FncSerdesClkSlaveRst","top_clock",
                         "FncSerdesSlaveRst","top_clock",
                         "FncSlaveRst","top_clock",
                         "FncSlvAck_i","top_clock",
                         "FncSlvChico_merr_o","top_clock",
                         "FncSlvChico_mirq_o","top_clock",
                         "FncSlvFnc_merr_o","top_clock",
                         "FncSlvFnc_mirq_o","top_clock",
                         "FncSlvSer_merr_o","top_clock",
                         "FncSlvSer_mirq_o","top_clock",
                         "FncSlvTop_merr_o","top_clock",
                         "FncSlvTop_mirq_o","top_clock",
                         "fw_hard_rst_750","top_clock",
                         "fw_merr","top_clock",
                         "fw_mirq","top_clock",
                         "fw_soft_rst_750","top_clock",
                         "gal1_rst_750","top_clock",
                         "gal1_slv_rst_750","top_clock",
                         "gal2_rst_750","top_clock",
                         "gal2_slv_rst_750","top_clock",
                         "glb_elam_trig_in","top_clock",
                         "glb_trig_in","top_clock",
                         "hrx625_cpu_merr","top_clock",
                         "hrx625_cpu_merr_o","top_clock",
                         "hrx_cpu_merr","top_clock",
                         "hrx_cpu_merr_o","top_clock",
                         "hrx_cpu_mirq","top_clock",
                         "hrx_cpu_mirq_o","top_clock",
                         "htx625_cpu_merr","top_clock",
                         "htx625_cpu_merr_o","top_clock",
                         "htx_cpu_merr","top_clock",
                         "htx_cpu_merr_o","top_clock",
                         "htx_cpu_mirq","top_clock",
                         "htx_cpu_mirq_o","top_clock",
                         "iat_cpu_merr_o","top_clock",
                         "iat_cpu_mirq_o","top_clock",
                         "iat_rst_750","top_clock",
                         "iat_slv_rst_750","top_clock",
                         "ibc_cpu_merr_o","top_clock",
                         "ibc_cpu_mirq_o","top_clock",
                         "ibc_rst_750","top_clock",
                         "ibc_slv_rst_750","top_clock",
                         "ibd_cpu_merr_o","top_clock",
                         "ibd_cpu_mirq_o","top_clock",
                         "ibd_rst_750","top_clock",
                         "ibd_slv_rst_750","top_clock",
                         "idc_cpu_merr_o","top_clock",
                         "idc_cpu_mirq_o","top_clock",
                         "idc_rst_750","top_clock",
                         "idc_slv_rst_750","top_clock",
                         "ifi_hard_rst_750","top_clock",
                         "ifi_merr","top_clock",
                         "ifi_mirq","top_clock",
                         "ifi_soft_rst_500","top_clock",
                         "ifi_soft_rst_750","top_clock",
                         "ifo_hard_rst_750","top_clock",
                         "ifo_merr","top_clock",
                         "ifo_mirq","top_clock",
                         "if_o_slave_merr_o","top_clock",
                         "if_o_slave_mirq_o","top_clock",
                         "ifo_soft_rst_500","top_clock",
                         "ifo_soft_rst_750","top_clock",
                         "im1_cpu_merr_o","top_clock",
                         "im1_cpu_mirq_o","top_clock",
                         "im1_rst_750","top_clock",
                         "im1_slv_rst_750","top_clock",
                         "im2_cpu_merr_o","top_clock",
                         "im2_cpu_mirq_o","top_clock",
                         "im2_rst_750","top_clock",
                         "im2_slv_rst_750","top_clock",
                         "im3_cpu_merr_o","top_clock",
                         "im3_cpu_mirq_o","top_clock",
                         "im3_rst_750","top_clock",
                         "im3_slv_rst_750","top_clock",
                         "ima_cpu_merr_o","top_clock",
                         "ima_cpu_mirq_o","top_clock",
                         "ima_rst_750","top_clock",
                         "ima_slv_rst_750","top_clock",
                         "ip_counter_merr_o","top_clock",
                         "ip_counter_mirq_o","top_clock",
                         "ipr_cpu_merr_o","top_clock",
                         "ipr_cpu_mirq_o","top_clock",
                         "ipr_rst_750","top_clock",
                         "ipr_slv_rst_750","top_clock",
                         "ish_cpu_merr_o","top_clock",
                         "ish_cpu_mirq_o","top_clock",
                         "ish_rst_750","top_clock",
                         "ish_slv_rst_750","top_clock",
                         "isl_cpu_merr_o","top_clock",
                         "isl_cpu_mirq_o","top_clock",
                         "isl_rst_750","top_clock",
                         "isl_slv_rst_750","top_clock",
                         "l2ft_hard_rst_750","top_clock",
                         "l2ft_merr","top_clock",
                         "l2ft_merr_o","top_clock",
                         "l2ft_mirq","top_clock",
                         "l2ft_mirq_o","top_clock",
                         "l2ft_soft_rst_750","top_clock",
                         "l2i_elam_hard_rst_750","top_clock",
                         "l2i_elam_merr","top_clock",
                         "l2i_elam_mirq","top_clock",
                         "l2i_elam_soft_rst_750","top_clock",
                         "l2i_hard_rst_750","top_clock",
                         "l2i_merr","top_clock",
                         "l2i_merr_o","top_clock",
                         "l2i_mirq","top_clock",
                         "l2i_mirq_o","top_clock",
                         "l2i_soft_rst_750","top_clock",
                         "l2lu_hard_rst_750","top_clock",
                         "l2lu_merr","top_clock",
                         "l2lu_merr_o","top_clock",
                         "l2lu_mirq","top_clock",
                         "l2lu_mirq_o","top_clock",
                         "l2lu_soft_rst_750","top_clock",
                         "l2mip_hard_rst_750","top_clock",
                         "l2mip_merr","top_clock",
                         "l2mip_mirq","top_clock",
                         "l2mip_soft_rst_750","top_clock",
                         "l2ntfy_hard_rst_750","top_clock",
                         "l2ntfy_merr","top_clock",
                         "l2ntfy_mirq","top_clock",
                         "l2ntfy_soft_rst_750","top_clock",
                         "l2po_counter_merr","top_clock",
                         "l2po_counter_mirq","top_clock",
                         "l2po_elam_hard_rst_750","top_clock",
                         "l2po_elam_merr","top_clock",
                         "l2po_elam_mirq","top_clock",
                         "l2po_elam_soft_rst_750","top_clock",
                         "l2po_hard_rst_750","top_clock",
                         "l2po_merr","top_clock",
                         "l2po_mirq","top_clock",
                         "l2po_soft_rst_750","top_clock",
                         "l2ri_hard_rst_750","top_clock",
                         "l2ri_merr","top_clock",
                         "l2ri_merr_o","top_clock",
                         "l2ri_mirq","top_clock",
                         "l2ri_mirq_o","top_clock",
                         "l2ri_soft_rst_750","top_clock",
                         "l3lu_hard_rst_750","top_clock",
                         "l3lu_merr","top_clock",
                         "l3lu_mirq","top_clock",
                         "l3lu_soft_rst_750","top_clock",
                         "l3mg_hard_rst_750","top_clock",
                         "l3mg_merr","top_clock",
                         "l3mg_mirq","top_clock",
                         "l3mg_soft_rst_750","top_clock",
                         "l3po_hard_rst_750","top_clock",
                         "l3po_merr","top_clock",
                         "l3po_mirq","top_clock",
                         "l3po_soft_rst_500","top_clock",
                         "l3po_soft_rst_750","top_clock",
                         "l3ri_elam_hard_rst_750","top_clock",
                         "l3ri_elam_merr","top_clock",
                         "l3ri_elam_merr_o","top_clock",
                         "l3ri_elam_mirq","top_clock",
                         "l3ri_elam_mirq_o","top_clock",
                         "l3ri_elam_soft_rst_750","top_clock",
                         "l3ri_hard_rst_750","top_clock",
                         "l3ri_merr","top_clock",
                         "l3ri_merr_o","top_clock",
                         "l3ri_mirq","top_clock",
                         "l3ri_mirq_o","top_clock",
                         "l3ri_soft_rst_500","top_clock",
                         "l3ri_soft_rst_750","top_clock",
                         "la0_merr_o","top_clock",
                         "la0_mirq_o","top_clock",
                         "la1_merr_o","top_clock",
                         "la1_mirq_o","top_clock",
                         "mack_i","top_clock",
                         "mec_hard_rst_750","top_clock",
                         "merr_o","top_clock",
                         "mirq_o","top_clock",
                         "mpc_serdes_mack_i","top_clock",
                         "mpc_serdes_merr_o","top_clock",
                         "mpc_serdes_mirq_o","top_clock",
                         "nf2_hard_rst_750","top_clock",
                         "nf2_merr","top_clock",
                         "nf2_merr_o","top_clock",
                         "nf2_mirq","top_clock",
                         "nf2_mirq_o","top_clock",
                         "nf2_soft_rst_750","top_clock",
                         "nf_hard_rst_750","top_clock",
                         "nf_merr","top_clock",
                         "nf_merr_o","top_clock",
                         "nf_mirq","top_clock",
                         "nf_mirq_o","top_clock",
                         "nfse_hard_rst_750","top_clock",
                         "nfse_merr","top_clock",
                         "nfse_mirq","top_clock",
                         "nfse_soft_rst_750","top_clock",
                         "nf_soft_rst_750","top_clock",
                         "ntfy_merr_o","top_clock",
                         "ntfy_mirq_o","top_clock",
                         "pck_mack_i","top_clock",
                         "pck_merr_o","top_clock",
                         "pck_mirq_o","top_clock",
                         "pcs_rx_mack_i","top_clock",
                         "pcs_rx_merr_o","top_clock",
                         "pcs_rx_mirq_o","top_clock",
                         "pcs_tx_mack_i","top_clock",
                         "pcs_tx_merr_o","top_clock",
                         "pcs_tx_mirq_o","top_clock",
                         "pl2_i_merr","top_clock",
                         "pl2_i_merr_o","top_clock",
                         "pl2_i_mirq","top_clock",
                         "pl2_i_mirq_o","top_clock",
                         "pl2_o_merr","top_clock",
                         "pl2_o_merr_o","top_clock",
                         "pl2_o_mirq","top_clock",
                         "pl2_o_mirq_o","top_clock",
                         "pl_hard_rst_750","top_clock",
                         "pl_i_merr","top_clock",
                         "pl_i_merr_o","top_clock",
                         "pl_i_mirq","top_clock",
                         "pl_i_mirq_o","top_clock",
                         "pllp_rx_hard_rst_750","top_clock",
                         "pllp_rx_merr","top_clock",
                         "pllp_rx_merr_o","top_clock",
                         "pllp_rx_mirq","top_clock",
                         "pllp_rx_mirq_o","top_clock",
                         "pllp_rx_soft_rst_750","top_clock",
                         "pllp_tx_hard_rst_750","top_clock",
                         "pllp_tx_merr","top_clock",
                         "pllp_tx_merr_o","top_clock",
                         "pllp_tx_mirq","top_clock",
                         "pllp_tx_mirq_o","top_clock",
                         "pllp_tx_soft_rst_750","top_clock",
                         "pl_o_merr","top_clock",
                         "pl_o_merr_o","top_clock",
                         "pl_o_mirq","top_clock",
                         "pl_o_mirq_o","top_clock",
                         "pl_soft_rst_750","top_clock",
                         "po_slave_merr_o","top_clock",
                         "po_slave_mirq_o","top_clock",
                         "ppc_tr_mack_i","top_clock",
                         "ppc_tr_merr_o","top_clock",
                         "ppc_tr_mirq_o","top_clock",
                         "pre_l2_el_trig","top_clock",
                         "prt_hard_rst_750","top_clock",
                         "reset","top_clock",
                         "reset_hard","top_clock",
                         "reset_slv","top_clock",
                         "reset_soft","top_clock",
                         "rif_mack_i","top_clock",
                         "rif_merr_o","top_clock",
                         "rif_mirq_o","top_clock",
                         "rp_hard_rst_750","top_clock",
                         "rp_merr","top_clock",
                         "rp_mirq","top_clock",
                         "rp_soft_rst_750","top_clock",
                         "rst_hard","top_clock",
                         "rst_slv","top_clock",
                         "rst_soft","top_clock",
                         "se_hard_rst_750","top_clock",
                         "se_merr","top_clock",
                         "se_merr_o","top_clock",
                         "se_mirq","top_clock",
                         "se_mirq_o","top_clock",
                         "se_soft_rst_750","top_clock",
                         "sta0_bist_done_fail_out","top_clock",
                         "sta0_bist_done_pass_out","top_clock",
                         "sta1_bist_done_fail_out","top_clock",
                         "sta1_bist_done_pass_out","top_clock",
                         "sta2_bist_done_fail_out","top_clock",
                         "sta2_bist_done_pass_out","top_clock",
                         "sta3_bist_done_fail_out","top_clock",
                         "sta3_bist_done_pass_out","top_clock",
                         "sta4_bist_done_fail_out","top_clock",
                         "sta4_bist_done_pass_out","top_clock",
                         "systest_cpu_merr_o","top_clock",
                         "systest_cpu_mirq_o","top_clock",
                         "systest_rst_750","top_clock",
                         "systest_slv_rst_750","top_clock",
                         "top_vcm","top_clock",
                         "um1_cpu_merr_o","top_clock",
                         "um1_cpu_mirq_o","top_clock",
                         "um1_rst_750","top_clock",
                         "um1_slv_rst_750","top_clock",
                         "um2_cpu_merr_o","top_clock",
                         "um2_cpu_mirq_o","top_clock",
                         "um2_rst_750","top_clock",
                         "um2_slv_rst_750","top_clock",
                         "vafd_rst_hard","top_clock",
                         "vafd_rst_slv","top_clock",
                         "vafd_rst_soft","top_clock",
                         "vcm_top","top_clock",
                         "vecn_rst_hard","top_clock",
                         "vecn_rst_slv","top_clock",
                         "vecn_rst_soft","top_clock",
                         "vir_mack_i","top_clock",
                         "vir_merr_o","top_clock",
                         "vir_mirq_o","top_clock",
                         "vma_rst_hard","top_clock",
                         "vma_rst_slv","top_clock",
                         "vma_rst_soft","top_clock",
                         "voq_hard_rst_750","top_clock",
                         "vqm_rst_hard","top_clock",
                         "vqm_rst_slv","top_clock",
                         "vqm_rst_soft","top_clock",
                         "vro_slice_mack_i","top_clock",
                         "vro_slice_merr_o","top_clock",
                         "vro_slice_mirq_o","top_clock",
                         "de_elam0_trig_in","top_clock",
                         "de_elam1_trig_in","top_clock",
                         "de_elam2_trig_in","top_clock",
                         "cpu_master_chip_reset_l","top_clock",
                         "bsp_rts_tmr0","top_clock",
                         "bsp_rts_tmr1","top_clock",
                         "bsp_rts_tmr2","top_clock",
                         "bsp_rts_tmr1588","top_clock",
                         "mpc_reset","top_clock",
                         "pck_reset","top_clock",
                         "ctl_reset","top_clock",
                         "buf_reset","top_clock",
                         "cpu_master_reset_l","top_clock",
                         "timestamp_reset","top_clock",
                         "rst","top_clock",
                         "rts_flare","top_clock");

open(f1,"${block_name}/$sdc_file");
open(f2,">${block_name}/$out_file");

$is_first_clock = 0;

while ($_ = <f1>) {
    if (($_ =~ /^\s*set_multicycle_path /) && ($_ =~ /\-setup/) && ($_ =~ /get_ports/)) {
       s/\[/ /g;
       s/\]/ /g;
       @l = split(/\s+/,$_);
       foreach ($i=0;$i<=$#l;$i++) {
         if ($port_name_is_next == 1) {
            $global_port_array{$l[$i]} = 1;
            $port_name_is_next = 0;
	 }
         elsif ($l[$i] =~ /get_ports/) {
            $port_name_is_next = 1;
	 }
       }
    }

}

close f1;

open(f1,"${block_name}/$sdc_file");
while ($_ = <f1>) {
      
        if (($_ =~ /group_path/) || ($_ =~ /set_clock_gating/) || ($_ =~ /set_false_path/) || ($_ =~ /set_dont_touch/) || ($_ =~ /set_dont_use/) || ($_ =~ /set_multicycle_path/) ) {
             ###Skip printing these lines
        }
	elsif ($_ =~ /set_clock_uncertainty/) {
	     ##Comment out these lines, since clock group is used to identify clock relationship
	     print "#",$_;
	}
        elsif ($_ =~ /^\s*set_input_delay/) {
           $line_copy = $_;
           $line_copy =~ s/\[/ /g;
           $line_copy =~ s/\]/ /g;
           @l = split(/\s+/,$line_copy);

           foreach ($i=0;$i<=$#l;$i++) {
              if ($port_name_is_next == 1) {
                 $current_port_name = $l[$i];
                 $truncated_port_name = $l[$i];
                 $truncated_port_name =~ s/\[.*\]//;

		 # If wildcards are used for port name, check for partial names by truncating the sdc name #
		 if ($truncated_port_name =~ /core_interrupt_data_out/) { $truncated_port_name = "core_interrupt_data_out"; }
                 $port_name_is_next = 0;
	      }
              elsif ($l[$i] =~ /get_ports/) {
                 $port_name_is_next = 1;
	      }
	   }
           if (($global_port_array{$current_port_name} == 1) || (($current_port_name =~ /\bchip_reset\b/) && ($sdc_file !~ /ts_master_so/))) {
	      ## chip_reset port for ts_master_so is already synchronized to clk550 and there will be no sync inside the block
	      ## Hence associating it with top_clock will results in false violations.
              s/(set_input_delay -clock) .* -max (.*)/\1 top_clock \2/;
           }
	   elsif ($other_top_clock_pins{$truncated_port_name} =~ /top_clock/) {
		   print "Changing port $truncated_port_name constraint to top_clock\n";
              s/(set_input_delay -clock) .* -max (.*)/\1 top_clock \2/;
		   print $_;
	   }
	   print f2 $_;
	}
	elsif (($_ =~ /create_clock/) && ($is_first_clock == 0)) {
	  $is_first_clock += 1;
	  print f2 $_;
        }
	elsif ($is_first_clock == 1) {
	  $is_first_clock += 1;
	  print f2 "create_clock -name top_clock -period 2 -waveform { 0 1}\n";
        }
	else {
	  print f2 $_;
       }
}
close f1;
close f2;

